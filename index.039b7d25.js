!function(){function t(t){return t&&t.__esModule?t.default:t}var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};var i={};function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e,i){e&&a(t.prototype,e);i&&a(t,i);return t};var n=function(t){try{var e=localStorage.getItem(t);return null===e?void 0:JSON.parse(e)}catch(t){console.error("Get state error",t.message)}},r=function(t,e){try{var i=JSON.stringify(e);localStorage.setItem(t,i)}catch(t){console.error("Get state error",t.message)}},o=function(t){try{localStorage.removeItem(t)}catch(t){console.error("Get state error",t.message)}},s="timer-state",c={clockface:document.querySelector(".clockface"),startBtn:document.querySelector(".timer-btn[data-start]"),stopBtn:document.querySelector(".timer-btn[data-stop]"),clearBtn:document.querySelector(".timer-btn[data-clear]")},l=function(){"use strict";function a(i){var n=i.onTick;t(e)(this,a),this.timerId=null,this.active=!1,this.startTime=0,this.deltaTime=0,this.onTick=n,this.init(),this.loadStateFromLS()}return t(i)(a,[{key:"init",value:function(){this.onTick(this.getTimeComponents())}},{key:"loadStateFromLS",value:function(){var t=n(s);t&&(this.active=t.active,this.startTime=t.start,this.deltaTime=t.delta,this.onTick(this.getTimeComponents(this.deltaTime)),this.active&&this.resumeTimerAfterReload())}},{key:"saveStateToLS",value:function(){r(s,{active:this.active,start:this.startTime,delta:this.deltaTime})}},{key:"resumeTimerAfterReload",value:function(){var t=this;this.startTime=Date.now()-this.deltaTime,this.timerId=setInterval((function(){var e=Date.now();t.deltaTime=e-t.startTime,t.onTick(t.getTimeComponents(t.deltaTime)),t.saveStateToLS()}),1e3)}},{key:"start",value:function(){var t=this;this.active||(this.active=!0,this.startTime=Date.now()-this.deltaTime,this.saveStateToLS(),this.timerId=setInterval((function(){var e=Date.now();t.deltaTime=e-t.startTime;var i=t.getTimeComponents(t.deltaTime);t.onTick(i),t.saveStateToLS()}),1e3))}},{key:"stop",value:function(){clearInterval(this.timerId),this.timerId=null,this.active=!1,this.saveStateToLS(),this.onTick(this.getTimeComponents(this.deltaTime))}},{key:"clear",value:function(){clearInterval(this.timerId),this.timerId=null,this.active=!1,this.startTime=0,this.deltaTime=0,o(s),this.onTick(this.getTimeComponents())}},{key:"getTimeComponents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.pad(Math.floor(t%864e5/36e5)),i=this.pad(Math.floor(t%36e5/6e4)),a=this.pad(Math.floor(t%6e4/1e3));return{hours:e,mins:i,secs:a}}},{key:"pad",value:function(t){return String(t).padStart(2,"0")}}]),a}(),u=new l({onTick:function(t){var e=t.hours,i=t.mins,a=t.secs;c.clockface.textContent="Hours: ".concat(e," Minutes: ").concat(i," Seconds: ").concat(a)}});c.startBtn.addEventListener("click",(function(){u.start()})),c.stopBtn.addEventListener("click",(function(){u.stop()})),c.clearBtn.addEventListener("click",(function(){u.clear()}))}();
//# sourceMappingURL=index.039b7d25.js.map
